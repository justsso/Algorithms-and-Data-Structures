{"pageProps":{"post":{"date":"2021 / 3 / 1","slug":"7. 整数反转.js","content":"<pre> <code class=\"hljs\" ><span class=\"hljs-comment\">/**\n * <span class=\"hljs-doctag\">@param <span class=\"hljs-type\">{number}</span> <span class=\"hljs-variable\">x</span></span>\n * <span class=\"hljs-doctag\">@return <span class=\"hljs-type\">{number}</span></span>\n */</span>\n\n<span class=\"hljs-comment\">//计算法</span>\n<span class=\"hljs-keyword\">var</span> reverse = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">x</span>) </span>{\n    <span class=\"hljs-built_in\">console</span>.log(x)\n    <span class=\"hljs-keyword\">let</span> result = <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-keyword\">let</span> fuhao = x &lt; <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-keyword\">let</span> wei = <span class=\"hljs-number\">1</span>;\n\n    <span class=\"hljs-keyword\">let</span> temp_x = <span class=\"hljs-built_in\">Math</span>.abs(x);\n    <span class=\"hljs-comment\">//求位数</span>\n    <span class=\"hljs-keyword\">while</span> (temp_x / <span class=\"hljs-number\">10</span> &gt;= <span class=\"hljs-number\">1</span>) {\n        wei += <span class=\"hljs-number\">1</span>\n        temp_x = temp_x / <span class=\"hljs-number\">10</span>\n    }\n    <span class=\"hljs-comment\">// console.log(wei, 14)</span>\n    <span class=\"hljs-keyword\">let</span> temp_x2 = <span class=\"hljs-built_in\">Math</span>.abs(x);\n\n    <span class=\"hljs-keyword\">while</span> (wei &gt; <span class=\"hljs-number\">0</span>) {\n        result += temp_x2 % <span class=\"hljs-number\">10</span> * <span class=\"hljs-built_in\">Math</span>.pow(<span class=\"hljs-number\">10</span>, wei - <span class=\"hljs-number\">1</span>);\n        <span class=\"hljs-comment\">//如果已经溢出，则直接返回0</span>\n        temp_x2 = <span class=\"hljs-built_in\">Math</span>.floor(temp_x2 / <span class=\"hljs-number\">10</span>);\n        wei = wei - <span class=\"hljs-number\">1</span>;\n    }\n\n    <span class=\"hljs-keyword\">if</span> (fuhao) {\n        result = -result;\n    }\n    <span class=\"hljs-keyword\">if</span> (result &gt; <span class=\"hljs-built_in\">Math</span>.pow(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">31</span>) - <span class=\"hljs-number\">1</span> || result &lt; -<span class=\"hljs-built_in\">Math</span>.pow(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">31</span>)) {\n        result = <span class=\"hljs-number\">0</span>\n    }\n    <span class=\"hljs-keyword\">return</span> result;\n};\n\n<span class=\"hljs-comment\">// console.log(reverse(123))</span>\n<span class=\"hljs-comment\">// console.log(Math.pow(2, 31))</span>\n\n<span class=\"hljs-comment\">//利用字符串方法</span>\n<span class=\"hljs-comment\">/**\n * @param x {number}\n * @return {number}\n */</span>\n\n<span class=\"hljs-keyword\">let</span> reverse2 = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">x</span>) </span>{\n    <span class=\"hljs-built_in\">console</span>.log(x)\n    <span class=\"hljs-keyword\">let</span> fuhao = x &lt; <span class=\"hljs-number\">0</span>, result = <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-keyword\">let</span> temp_x = <span class=\"hljs-built_in\">Math</span>.abs(x);\n    <span class=\"hljs-keyword\">let</span> str_x = <span class=\"hljs-string\">\"\"</span> + temp_x;\n    str_x = str_x.split(<span class=\"hljs-string\">\"\"</span>).reverse().join(<span class=\"hljs-string\">\"\"</span>);\n    temp_x = <span class=\"hljs-built_in\">Number</span>(str_x);\n    fuhao ? result = -temp_x : result = temp_x\n\n    <span class=\"hljs-keyword\">if</span> (result &gt; <span class=\"hljs-built_in\">Math</span>.pow(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">31</span>) - <span class=\"hljs-number\">1</span> || result &lt; -<span class=\"hljs-built_in\">Math</span>.pow(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">31</span>)) {\n        result = <span class=\"hljs-number\">0</span>\n    }\n    <span class=\"hljs-keyword\">return</span> result;\n\n}\n<span class=\"hljs-comment\">// console.log(reverse2(1212412432459))</span>\n\n<span class=\"hljs-keyword\">let</span> reverse3 = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">x</span>) </span>{\n    <span class=\"hljs-keyword\">let</span> result = <span class=\"hljs-number\">0</span>, _Max = <span class=\"hljs-built_in\">Math</span>.pow(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">31</span>) - <span class=\"hljs-number\">1</span>, _MiN = -<span class=\"hljs-built_in\">Math</span>.pow(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">31</span>);\n    <span class=\"hljs-keyword\">let</span> temp_x = <span class=\"hljs-built_in\">Math</span>.abs(x);\n    <span class=\"hljs-keyword\">while</span> (temp_x !== <span class=\"hljs-number\">0</span>) {\n        result = result * <span class=\"hljs-number\">10</span> + temp_x % <span class=\"hljs-number\">10</span>;\n        <span class=\"hljs-keyword\">if</span> (result &gt; _Max) {\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n        }\n        temp_x = <span class=\"hljs-built_in\">Math</span>.floor(temp_x / <span class=\"hljs-number\">10</span>)\n    }\n    result = x &lt; <span class=\"hljs-number\">0</span> ? -result : result;\n    <span class=\"hljs-keyword\">if</span> (result &gt; _Max || result &lt; _MiN) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>\n    }\n    <span class=\"hljs-keyword\">return</span> result;\n}\n\n<span class=\"hljs-built_in\">console</span>.log( reverse3(<span class=\"hljs-number\">123</span>))\n\n\n<span class=\"hljs-comment\">//Math.floor向下取整</span>\n<span class=\"hljs-comment\">//负数向下取整</span>\n</code> </pre>"}},"__N_SSG":true}