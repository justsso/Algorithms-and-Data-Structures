{"pageProps":{"post":{"date":"2021 / 3 / 3","slug":"303. 区域和检索 - 数组不可变.js","content":"<pre> <code class=\"hljs\" ><span class=\"hljs-comment\">/**\n * <span class=\"hljs-doctag\">@param <span class=\"hljs-type\">{number[]}</span> <span class=\"hljs-variable\">nums</span></span>\n */</span>\n<span class=\"hljs-keyword\">var</span> NumArray = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">nums</span>) </span>{\n\n    <span class=\"hljs-comment\">// 根据nums初始化</span>\n    <span class=\"hljs-comment\">// 初始化 每位的数组和</span>\n    <span class=\"hljs-keyword\">this</span>._nums = [... nums];\n    <span class=\"hljs-keyword\">this</span>._sumNums = []\n\n     <span class=\"hljs-keyword\">this</span>._nums.forEach(<span class=\"hljs-function\">(<span class=\"hljs-params\">item, index</span>) =&gt;</span> {\n        <span class=\"hljs-keyword\">if</span>(index === <span class=\"hljs-number\">0</span>){\n            <span class=\"hljs-keyword\">this</span>._sumNums.push(item);\n        }<span class=\"hljs-keyword\">else</span> {\n            <span class=\"hljs-keyword\">this</span>._sumNums.push(<span class=\"hljs-keyword\">this</span>._sumNums[index <span class=\"hljs-number\">-1</span>] + item);\n        }\n    })\n};\n\n<span class=\"hljs-comment\">/** \n * @param {number} i \n * @param {number} j\n * @return {number}\n */</span>\nNumArray.prototype.sumRange = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">i, j</span>) </span>{\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>._sumNums[j] - <span class=\"hljs-keyword\">this</span>._sumNums [i] +<span class=\"hljs-keyword\">this</span>._nums[i]\n};\n\n<span class=\"hljs-comment\">/**\n * Your NumArray object will be instantiated and called as such:\n * var obj = new NumArray(nums)\n * var param_1 = obj.sumRange(i,j)\n */</span> \n\n\n <span class=\"hljs-keyword\">var</span> obj = <span class=\"hljs-keyword\">new</span> NumArray([<span class=\"hljs-number\">-2</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">-5</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">-1</span>]);\n <span class=\"hljs-keyword\">var</span> param_1 = obj.sumRange(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">2</span>);\n <span class=\"hljs-keyword\">var</span> param_2 = obj.sumRange(<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">5</span>);\n <span class=\"hljs-built_in\">console</span>.log(param_1)\n <span class=\"hljs-built_in\">console</span>.log(param_2)\n</code> </pre>"}},"__N_SSG":true}